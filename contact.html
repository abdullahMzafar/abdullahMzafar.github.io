<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
   
  <!-- Charset & viewport -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <!-- Referrer Policy (meta) -->
  <meta name="referrer" content="strict-origin-when-cross-origin">
  
  <!-- Content Security Policy (via meta tag for GitHub Pages) -->
  <!-- This CSP supports: self-hosted content + GTM/GA4 + reCAPTCHA v2 + data URIs for images -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data: https://www.googletagmanager.com https://www.google-analytics.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com https://www.google.com https://www.gstatic.com; connect-src 'self' https://www.google-analytics.com https://www.googletagmanager.com https://region1.google-analytics.com https://region2.google-analytics.com; frame-src 'self' https://www.google.com; base-uri 'self'; form-action 'self'; upgrade-insecure-requests; block-all-mixed-content">
  
  <!-- Google Consent Mode: default deny until user accepts -->
  <script>
    // Initialize dataLayer and default consent (no cookies until user accepts)
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('consent', 'default', {
      'ad_storage': 'denied',
      'analytics_storage': 'denied'
      // Optional (Consent Mode v2 extra signals):
      // 'ad_user_data': 'denied',
      // 'ad_personalization': 'denied',
      // 'functionality_storage': 'denied',
      // 'security_storage': 'granted' // reCAPTCHA relies on security storage
    });
  </script>
  
<!-- Google Tag Manager (container) -->
<!-- Loads immediately, but runs in limited/cookieless mode until consent updates -->

  
  <!-- Google Tag Manager -->
  <script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5V8BZHS9');
  </script>
  <!-- End Google Tag Manager -->

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact Abdullah M. Zafar</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"> -->

   <!-- Font Awesome with SRI -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
      rel="stylesheet"
      integrity="sha384-/o6I2CkkWC//PSjvWC/eYN7l3xM3tJm8ZzVkCOfp//W05QcE3mlGskpoHB6XqI+B"
      crossorigin="anonymous">

  <!-- Standard Favicon -->
  <link rel="icon" type="image/png" sizes="16x16" href="Favicon/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="Favicon/favicon-32x32.png">

  <!-- Apple Touch Icon (for iOS devices) -->
  <link rel="apple-touch-icon" sizes="180x180" href="Favicon/apple-touch-icon.png">

  <!-- Android/Chrome PWA Icons -->
  <link rel="icon" type="image/png" sizes="192x192" href="Favicon/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="Favicon/android-chrome-512x512.png">

  <!-- Fallback .ico for older browsers -->
  <link rel="shortcut icon" href="Favicon/favicon.ico">

  
  <style>
    :root {
      --bg: #0f1220;
      --card: #171a2b;
      --text: #e7e9ee;
      --muted: #a9afc3;
      --accent: #3ea6ff;
      --border: rgba(255,255,255,0.08);
      --shadow: 0 10px 30px rgba(0,0,0,0.35);
      --radius: 14px;
    }

    [data-theme="light"] {
      --bg: #f9f8f4;
      --card: #ffffff;
      --text: #0b1025;
      --muted: #4a5568;
      --accent: #2563eb;
      --border: rgba(0,0,0,0.1);
      --shadow: 0 10px 20px rgba(0,0,0,0.08);
    }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Inter', system-ui, sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      padding: 20px;
    }

    .card {
      background: var(--card);
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      border-radius: 22px;
      padding: 40px 32px;
      width: 100%;
      max-width: 500px;
      text-align: center;
    }

    h1 {
      font-size: 26px;
      margin-bottom: 18px;
      color: var(--accent);
    }

    p {
      color: var(--muted);
      margin-bottom: 24px;
      font-size: 14.5px;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    label {
      text-align: left;
      font-size: 14px;
      color: var(--text);
    }

    input, textarea {
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 10px 12px;
      font-size: 14px;
      color: var(--text);
      resize: none;
    }

    input:focus, textarea:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 6px var(--accent);
    }

    button {
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 999px;
      padding: 12px;
      font-weight: 600;
      font-size: 15px;
      cursor: pointer;
      transition: 0.2s ease;
    }

    button:hover {
      filter: brightness(1.1);
    }

    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      margin-top: 20px;
      color: var(--accent);
      text-decoration: none;
      font-size: 14px;
    }

    .back-link:hover {
      text-decoration: underline;
    }

    #recaptcha { 
      background: transparent;
      padding: 0;
      border: 0;
    }

    /* reCAPTCHA container centered and smooth fade-in */
    #recaptcha-container {
      display: flex;
      justify-content: center;
      margin: 1.2rem 0;
      transition: opacity 0.4s ease;
    }
    #recaptcha-container.hidden {
      opacity: 0;
      pointer-events: none;
    }

    /* Light/dark blending via iframe filtering */
    [data-theme="light"] #recaptcha-container iframe {
      filter: brightness(1.05) contrast(1.03);
    }
    [data-theme="dark"] #recaptcha-container iframe {
      filter: brightness(0.85) contrast(0.8);
    }
  </style>
</head>

<script>
  (function () {
    const root = document.documentElement;
    const saved = localStorage.getItem('theme');
    if (saved) root.setAttribute('data-theme', saved);
  })();
</script>


<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V8BZHS9"
    height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript>
  <!-- End Google Tag Manager (noscript) -->
  
  <section class="card">
    <h1><i class="fa-solid fa-envelope"></i> Contact Me</h1>
    <p>Have a question or opportunity? Send me a message directly here.</p>

    <form action="https://formspree.io/f/xqaydjob" method="POST">
      <label for="name">Your Name</label>
      <input type="text" name="name" id="name" required>

      <label for="email">Your Email</label>
      <input type="email" name="_replyto" id="email" required>

      <label for="message">Your Message</label>
      <textarea name="message" id="message" rows="5" required></textarea>
      
      <div id="recaptcha-container" class="hidden">
        <div id="recaptcha-widget"></div>
      </div>

      <button type="submit"><i class="fa-solid fa-paper-plane"></i> Send Message</button>
    </form>

    <p class="reply-note">Typically replies within 24 hours.</p>

    <a href="/" class="back-link">
    <i class="fa-solid fa-arrow-left"></i> Back to Portfolio
    </a>
  </section>

  <!-- Load reCAPTCHA API -->
  <script src="https://www.google.com/recaptcha/api.js?onload=onLoadRecaptcha&render=explicit" async defer></script>

  <script>
    let recaptchaWidgetId = null;

    // Initialize the reCAPTCHA when the API loads
    function onLoadRecaptcha() {
      const container = document.getElementById('recaptcha-widget');
      const theme = document.documentElement.getAttribute('data-theme') || 'dark';
      recaptchaWidgetId = grecaptcha.render(container, {
        sitekey: '6LdfWO4rAAAAAGfHiczFudPmhmJlqf_Ryq8OiU1Z',  // ✅ replace with your own visible v2 key
        theme: theme
      });
      document.getElementById('recaptcha-container').classList.remove('hidden');
    }

    // Watch for theme changes (light/dark toggle)
    const observer = new MutationObserver(() => {
      const newTheme = document.documentElement.getAttribute('data-theme');
      if (recaptchaWidgetId !== null) {
        const container = document.getElementById('recaptcha-widget');
        container.innerHTML = '';
        recaptchaWidgetId = grecaptcha.render(container, {
          sitekey: '6LdfWO4rAAAAAGfHiczFudPmhmJlqf_Ryq8OiU1Z',
          theme: newTheme
        });
      }
    });

    observer.observe(document.documentElement, { attributes: true });

    document.querySelector('form').addEventListener('submit', function (e) {
      const response = grecaptcha.getResponse();
      if (!response.length) {
        e.preventDefault();
        alert('⚠️ Please verify you’re not a robot before submitting.');
      }
    });

  </script>

</body>
</html>
